# RPG 게임 프로젝트

이 프로젝트는 Dart로 구현된 텍스트 기반 전투 RPG 게임입니다.

## 기능 설명

### 기본 기능
- 파일에서 캐릭터와 몬스터 데이터 읽어오기
- 사용자로부터 캐릭터 이름 입력받기
- 랜덤으로 몬스터와 전투 진행
- 게임 결과를 파일에 저장

### 도전 기능
- **캐릭터 체력 증가 기능**: 게임 시작 시 30% 확률로 캐릭터의 체력이 10 증가합니다.
- **아이템 사용 기능**: 전투 중 한 번 특수 아이템을 사용하여 한 턴 동안 공격력이 두 배가 됩니다.
- **몬스터 방어력 증가 기능**: 3턴마다 몬스터의 방어력이 2씩 증가합니다 (최대 8까지).
- **캐릭터 방어 기능 개선**: 방어 시 1~5 사이의 랜덤 체력을 회복합니다.

### 추가 기능
- **경험치 및 레벨 시스템**: 몬스터를 물리치면 경험치를 획득하고, 일정 경험치에 도달하면 레벨업합니다.
- **스탯 포인트 분배**: 레벨업 시 스탯 포인트를 획득하여 체력, 공격력, 방어력에 분배할 수 있습니다.
- **캐릭터 데이터 저장**: 게임 종료 시 캐릭터의 레벨, 경험치, 스탯 등을 저장하고 다음 게임에서 불러올 수 있습니다.

### 게임 플레이 방법
1. 게임을 실행하면 캐릭터의 이름을 입력합니다.
2. 저장된 캐릭터 데이터가 있으면 불러올 수 있습니다.
3. 랜덤으로 선택된 몬스터와 전투를 시작합니다.
4. 매 턴마다 공격, 방어, 또는 아이템 사용 행동을 선택할 수 있습니다.
5. 몬스터를 물리치면 경험치를 획득하고, 레벨업 시 스탯 포인트를 분배할 수 있습니다.
6. 다음 몬스터와 싸울지 선택할 수 있습니다.
7. 모든 몬스터를 물리치거나 캐릭터의 체력이 0이 되면 게임이 종료됩니다.
8. 게임 종료 후 결과와 캐릭터 데이터를 저장할 수 있습니다.

## 파일 구조
- `main.dart`: 게임의 진입점
- `game.dart`: 게임 로직을 담당하는 클래스
- `models/character.dart`: 캐릭터 클래스
- `models/monster.dart`: 몬스터 클래스
- `data/characters.txt`: 캐릭터 스탯 데이터 (체력, 공격력, 방어력)
- `data/monsters.txt`: 몬스터 스탯 데이터 (이름, 체력, 공격력 최대값)
- `data/result.txt`: 게임 결과 저장 파일
- `data/character_save.txt`: 캐릭터 데이터 저장 파일
- `pubspec.yaml`: 프로젝트 설정 파일
- `test/`: 테스트 코드 디렉토리
- `docs/TIL.md`: Today I Learned (오늘 배운 내용)
- `docs/WIL.md`: Weekly I Learned (TIL의 주간 요약)

## 실행 방법

### 게임 실행하기
```bash
# 프로젝트 디렉토리로 이동
cd rpg_game

# 의존성 패키지 설치
dart pub get

# 게임 실행
dart main.dart
```

### 테스트 실행하기
```bash
# 프로젝트 디렉토리로 이동
cd rpg_game

# 의존성 패키지 설치
dart pub get

# 모든 테스트 실행
dart test

# 특정 테스트 파일 실행
dart test test/character_test.dart
dart test test/monster_test.dart
dart test test/game_test.dart
```

## 데이터 파일 형식
- `data/characters.txt`: 체력,공격력,방어력 (CSV 형식)
- `data/monsters.txt`: 이름,체력,공격력최대값 (CSV 형식, 한 줄에 하나의 몬스터)
- `data/result.txt`: 캐릭터이름,남은체력,결과(승리/패배) (CSV 형식)

## 예외 처리
- 파일이 없는 경우 기본값으로 파일을 생성합니다.
- 잘못된 형식의 데이터를 읽었을 때 적절한 오류 메시지를 출력합니다.
- 사용자 입력에 대한 검증을 통해 예상치 못한 입력으로 인한 오류를 방지합니다.

## 게임 밸런스
- 몬스터의 방어력은 최대 8까지만 증가하여 캐릭터가 항상 데미지를 입힐 수 있도록 합니다.
- 캐릭터는 방어 시 체력을 회복할 수 있어 전략적인 플레이가 가능합니다.
- 아이템 사용으로 강력한 공격을 할 수 있지만, 한 번만 사용 가능합니다.
- 경험치는 몬스터의 체력과 공격력에 비례하여 획득합니다.
- 레벨업 시 3개의 스탯 포인트를 획득하며, 다음 레벨까지 필요한 경험치는 1.5배씩 증가합니다.
- 스탯 포인트는 체력(1포인트당 +5), 공격력(1포인트당 +1), 방어력(1포인트당 +1)에 분배할 수 있습니다.

## 테스트 방법
1. 테스트 코드는 `test/` 디렉토리에 있습니다.
2. 각 클래스별로 테스트 파일이 분리되어 있습니다:
   - `character_test.dart`: Character 클래스 테스트
   - `monster_test.dart`: Monster 클래스 테스트
   - `game_test.dart`: Game 클래스 테스트
3. 테스트는 각 클래스의 주요 기능과 요구사항을 검증합니다.
4. 테스트 실행 시 자동으로 테스트 데이터가 생성되고 정리됩니다.

## 학습 내용
- `docs/TIL.md`: 프로젝트를 진행하면서 오늘 배운 내용과 트러블 슈팅 경험을 정리했습니다.
- `docs/WIL.md`: 프로젝트를 진행하면서 배운 내용의 주간 요약입니다. TIL의 핵심 내용을 축약했습니다. 